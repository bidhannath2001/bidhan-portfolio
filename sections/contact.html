<section id="contact" class="py-20 px-4 sm:px-6 lg:px-8 bg-slate-50 dark:bg-slate-800/50">
    <div class="max-w-7xl mx-auto">
        <div class="reveal-up text-center mb-16">
            <p class="text-sm font-medium text-primary-600 dark:text-primary-400 mb-2 tracking-wider uppercase">Get in
                touch</p>
            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-display font-bold text-slate-900 dark:text-white mb-4">
                Contact Me</h2>
            <p class="text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">Have a project in mind or just want
                to chat? Let's build something amazing together.</p>
        </div>

        <div class="grid md:grid-cols-2 gap-12 items-start">
            <!-- Contact Form -->
            <!-- Contact Form (Netlify + Premium UX) -->
            <div class="reveal-left">
                <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="space-y-6"
                    id="contact-form">
                    <!-- Netlify required -->
                    <input type="hidden" name="form-name" value="contact" />
                    <div hidden>
                        <input name="bot-field" />
                    </div>

                    <div>
                        <label for="name" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                            Your Name
                        </label>
                        <input type="text" id="name" name="name" required
                            class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"
                            placeholder="Your name" />
                        <span class="error-message text-red-500 text-sm mt-1 hidden"></span>
                    </div>

                    <div>
                        <label for="email" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                            Your Email
                        </label>
                        <input type="email" id="email" name="email" required
                            class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"
                            placeholder="you@example.com" />
                        <span class="error-message text-red-500 text-sm mt-1 hidden"></span>
                    </div>

                    <div>
                        <label for="message" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                            Your Message
                        </label>
                        <textarea id="message" name="message" rows="5" required
                            class="w-full px-4 py-3 rounded-lg bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none"
                            placeholder="Tell me what you’re building..."></textarea>
                        <span class="error-message text-red-500 text-sm mt-1 hidden"></span>
                    </div>

                    <button type="submit" id="submit-btn"
                        class="w-full px-8 py-4 bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white font-medium rounded-lg transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed">
                        <!-- Default state -->
                        <span id="btn-default" class="inline-flex items-center">
                            <i class="fas fa-paper-plane mr-2"></i>
                            Send Message
                        </span>

                        <!-- Loading state -->
                        <span id="btn-loading" class="hidden items-center gap-2">
                            <svg class="animate-spin h-5 w-5" viewBox="0 0 24 24" aria-hidden="true">
                                <circle class="opacity-25" cx="12" cy="12" r="10" fill="none" stroke="currentColor"
                                    stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z">
                                </path>
                            </svg>
                            Sending...
                        </span>
                    </button>

                    <!-- Smooth success state -->
                    <div id="form-success"
                        class="hidden mt-2 p-4 rounded-lg border border-green-200 dark:border-green-900/40 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 transition-all duration-300">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-check-circle mt-0.5"></i>
                            <div>
                                <p class="font-medium">Message sent!</p>
                                <p class="text-sm opacity-90">Thanks for reaching out. I’ll get back to you soon.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Optional error state -->
                    <div id="form-error"
                        class="hidden mt-2 p-4 rounded-lg border border-red-200 dark:border-red-900/40 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 transition-all duration-300">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-exclamation-circle mt-0.5"></i>
                            <div>
                                <p class="font-medium">Something went wrong.</p>
                                <p class="text-sm opacity-90">Please try again or email me directly.</p>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <script>
                // Premium UX for Netlify form submission (AJAX) - keeps user on the same page
                (function () {
                    const form = document.getElementById("contact-form");
                    const submitBtn = document.getElementById("submit-btn");
                    const btnDefault = document.getElementById("btn-default");
                    const btnLoading = document.getElementById("btn-loading");
                    const successBox = document.getElementById("form-success");
                    const errorBox = document.getElementById("form-error");

                    function setLoading(isLoading) {
                        submitBtn.disabled = isLoading;
                        btnDefault.classList.toggle("hidden", isLoading);
                        btnLoading.classList.toggle("hidden", !isLoading);
                        btnLoading.classList.toggle("inline-flex", isLoading);
                    }

                    function show(el) {
                        el.classList.remove("hidden");
                        // smooth reveal
                        el.style.opacity = "0";
                        el.style.transform = "translateY(6px)";
                        requestAnimationFrame(() => {
                            el.style.transition = "opacity 300ms ease, transform 300ms ease";
                            el.style.opacity = "1";
                            el.style.transform = "translateY(0)";
                        });
                    }

                    function hide(el) {
                        el.classList.add("hidden");
                        el.style.opacity = "";
                        el.style.transform = "";
                        el.style.transition = "";
                    }

                    function encode(data) {
                        return new URLSearchParams(data).toString();
                    }

                    form.addEventListener("submit", async (e) => {
                        e.preventDefault();

                        hide(successBox);
                        hide(errorBox);
                        setLoading(true);

                        const formData = new FormData(form);
                        const payload = {};
                        formData.forEach((value, key) => (payload[key] = value));

                        try {
                            const res = await fetch("/", {
                                method: "POST",
                                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                                body: encode(payload),
                            });

                            if (!res.ok) throw new Error("Network response was not ok");

                            form.reset();
                            show(successBox);
                        } catch (err) {
                            show(errorBox);
                            // fallback: user can still email you
                            console.error(err);
                        } finally {
                            setLoading(false);
                        }
                    });
                })();
            </script>

            <!-- Contact Info -->
            <div class="reveal-right space-y-6">
                <div
                    class="p-6 bg-white dark:bg-slate-900 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700">
                    <h3 class="text-xl font-display font-semibold text-slate-900 dark:text-white mb-6">Connect With Me
                    </h3>

                    <div class="space-y-4">
                        <a href="mailto:your.email@example.com"
                            class="flex items-center gap-4 p-4 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group">
                            <div
                                class="w-12 h-12 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i class="fas fa-envelope text-xl text-primary-600 dark:text-primary-400"></i>
                            </div>
                            <div>
                                <p class="text-sm text-slate-500 dark:text-slate-400">Email</p>
                                <p class="font-medium text-slate-900 dark:text-white">bidhannath2001@gmail.com</p>
                            </div>
                        </a>

                        <a href="https://github.com/bidhannath2001" target="_blank" rel="noopener noreferrer"
                            class="flex items-center gap-4 p-4 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group">
                            <div
                                class="w-12 h-12 rounded-lg bg-slate-900 dark:bg-slate-700 flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i class="fab fa-github text-xl text-white"></i>
                            </div>
                            <div>
                                <p class="text-sm text-slate-500 dark:text-slate-400">GitHub</p>
                                <p class="font-medium text-slate-900 dark:text-white">@bidhannath2001</p>
                            </div>
                        </a>

                        <a href="https://linkedin.com/in/bidhan-nath-399b43239" target="_blank"
                            rel="noopener noreferrer"
                            class="flex items-center gap-4 p-4 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group">
                            <div
                                class="w-12 h-12 rounded-lg bg-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i class="fab fa-linkedin-in text-xl text-white"></i>
                            </div>
                            <div>
                                <p class="text-sm text-slate-500 dark:text-slate-400">LinkedIn</p>
                                <p class="font-medium text-slate-900 dark:text-white">@bidhan-nath-399b43239</p>
                            </div>
                        </a>

                        <a href="https://facebook.com/bidhannath2001" target="_blank" rel="noopener noreferrer"
                            class="flex items-center gap-4 p-4 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group">
                            <div
                                class="w-12 h-12 rounded-lg bg-blue-500 flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i class="fab fa-facebook-f text-xl text-white"></i>
                            </div>
                            <div>
                                <p class="text-sm text-slate-500 dark:text-slate-400">Facebook</p>
                                <p class="font-medium text-slate-900 dark:text-white">@bidhannath2001</p>
                            </div>
                        </a>
                    </div>
                </div>

                <div
                    class="p-6 bg-gradient-to-br from-primary-500 to-primary-600 dark:from-primary-600 dark:to-primary-700 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-display font-semibold text-white mb-3">Let's Build Together</h3>
                    <p class="text-white/90 text-sm">
                        I'm always interested in hearing about new projects and opportunities. Whether you have a
                        question or just want to say hi, I'll try my best to get back to you!
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>